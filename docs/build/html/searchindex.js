Search.setIndex({"alltitles":{"Attributes:":[[6,"attributes"],[6,"id1"]],"Contents":[[2,null]],"Notes:":[[3,"notes"]],"Parameters:":[[0,"parameters"],[0,"id2"],[0,"id4"],[0,"id6"],[0,"id9"],[1,"parameters"],[1,"id1"],[1,"id4"],[3,"parameters"],[3,"id1"],[3,"id3"],[3,"id5"],[3,"id7"],[6,"parameters"]],"Raises:":[[0,"raises"],[0,"id1"],[0,"id3"],[0,"id5"],[0,"id8"],[0,"id11"],[1,"raises"],[1,"id3"],[1,"id6"],[3,"raises"],[3,"id9"]],"Returns:":[[0,"returns"],[0,"id7"],[0,"id10"],[1,"returns"],[1,"id2"],[1,"id5"],[3,"returns"],[3,"id2"],[3,"id4"],[3,"id6"],[3,"id8"],[6,"returns"]],"Tourist_agency_consultant":[[4,null]],"database module":[[0,null]],"faiss_service module":[[1,null]],"main module":[[3,null]],"prompts module":[[5,null]],"tour_agent module":[[6,null]],"utils module":[[7,null]]},"docnames":["database","faiss_service","index","main","modules","prompts","tour_agent","utils"],"envversion":{"sphinx":65,"sphinx.domains.c":3,"sphinx.domains.changeset":1,"sphinx.domains.citation":1,"sphinx.domains.cpp":9,"sphinx.domains.index":1,"sphinx.domains.javascript":3,"sphinx.domains.math":2,"sphinx.domains.python":4,"sphinx.domains.rst":2,"sphinx.domains.std":2},"filenames":["database.rst","faiss_service.rst","index.rst","main.rst","modules.rst","prompts.rst","tour_agent.rst","utils.rst"],"indexentries":{"feedback_request() (in module main)":[[3,"main.feedback_request",false]],"feedbackstate (class in main)":[[3,"main.FeedbackState",false]],"handle_message() (in module main)":[[3,"main.handle_message",false]],"main":[[3,"module-main",false]],"module":[[3,"module-main",false]],"on_startup() (in module main)":[[3,"main.on_startup",false]],"save_feedback() (in module main)":[[3,"main.save_feedback",false]],"start() (in module main)":[[3,"main.start",false]],"waiting_feedback (main.feedbackstate attribute)":[[3,"main.FeedbackState.waiting_feedback",false]]},"objects":{"":[[0,0,0,"-","database"],[1,0,0,"-","faiss_service"],[3,0,0,"-","main"],[5,0,0,"-","prompts"],[6,0,0,"-","tour_agent"],[7,0,0,"-","utils"]],"database":[[0,1,1,"","CreateIndexRequest"],[0,1,1,"","Database"],[0,1,1,"","SearchQuery"],[0,4,1,"","add_vectors"],[0,4,1,"","create_index"],[0,4,1,"","search"]],"database.CreateIndexRequest":[[0,2,1,"","dimension"],[0,2,1,"","key"],[0,2,1,"","model_config"]],"database.Database":[[0,3,1,"","create_pool"],[0,3,1,"","register_user_if_not_exists"],[0,3,1,"","save_feedback"]],"database.SearchQuery":[[0,2,1,"","k"],[0,2,1,"","key"],[0,2,1,"","model_config"],[0,2,1,"","query"]],"faiss_service":[[1,1,1,"","CreateIndexRequest"],[1,1,1,"","SearchQuery"],[1,4,1,"","add_vectors"],[1,4,1,"","create_index"],[1,4,1,"","search"]],"faiss_service.CreateIndexRequest":[[1,2,1,"","dimension"],[1,2,1,"","key"],[1,2,1,"","model_config"]],"faiss_service.SearchQuery":[[1,2,1,"","k"],[1,2,1,"","key"],[1,2,1,"","model_config"],[1,2,1,"","query"]],"main":[[3,1,1,"","FeedbackState"],[3,4,1,"","feedback_request"],[3,4,1,"","handle_message"],[3,4,1,"","on_startup"],[3,4,1,"","save_feedback"],[3,4,1,"","start"]],"main.FeedbackState":[[3,2,1,"","waiting_feedback"]],"tour_agent":[[6,1,1,"","AgentAPI"],[6,1,1,"","LangGraphAgent"]],"tour_agent.LangGraphAgent":[[6,3,1,"","assistant"]],"utils":[[7,4,1,"","print_messages"]]},"objnames":{"0":["py","module","Python module"],"1":["py","class","Python class"],"2":["py","attribute","Python attribute"],"3":["py","method","Python method"],"4":["py","function","Python function"]},"objtypes":{"0":"py:module","1":"py:class","2":"py:attribute","3":"py:method","4":"py:function"},"terms":{"":3,"400":[0,1],"404":[0,1],"5":[0,1],"If":[0,1,3],"access":0,"action":3,"ad":[0,1],"add":[0,1],"add_vector":[0,1,2,4],"agent":[3,6],"agent_url":3,"agentapi":[2,4,6],"aiogram":3,"alreadi":[0,1],"an":[0,1],"ani":0,"app":6,"applic":6,"assist":[2,4,6],"async":[0,1,3],"asynccli":3,"asynchron":0,"asyncpg":0,"attribut":0,"base":[0,1,3,6],"basemessag":6,"basemodel":[0,1],"basetool":6,"bot":3,"bound":6,"builder":6,"capabl":6,"checkpoint":6,"class":[0,1,3,6],"classvar":[0,1],"client":6,"command":3,"commun":0,"compil":6,"complet":6,"config":[0,1],"configdict":[0,1],"configur":[0,1],"confirm":[0,1],"conform":[0,1],"connect":[0,3],"construct":6,"contain":[3,6],"content":0,"context":3,"convers":6,"correspond":0,"cosin":[0,1],"cosine_similar":[0,1],"creat":[0,1],"create_index":[0,1,2,4],"create_pool":[0,2,4],"createindexrequest":[0,1,2,4],"creation":0,"current":6,"custom":6,"databas":[2,3,4],"db_dsn":0,"dict":[0,1,6],"dictionari":[0,1],"dimens":[0,1,2,4],"dimension":[0,1],"dispatch":3,"doe":[0,1],"dp":3,"dsn":0,"each":[0,1],"endpoint":6,"environ":0,"error":3,"establish":0,"except":3,"execut":6,"exist":[0,1],"expos":6,"extern":[3,6],"fail":[0,3],"faiss":[0,1],"faiss_servic":[2,4],"fals":6,"fastapi":6,"feedback":[0,3],"feedback_request":[3,4],"feedback_text":0,"feedbackst":[3,4],"first_nam":0,"flag":6,"float":[0,1],"flow":6,"forward":3,"found":[0,1],"from":0,"fsm":3,"fsmcontext":3,"gener":3,"gigachat":6,"given":[0,1],"graph":6,"group":3,"handl":3,"handle_messag":[3,4],"histori":6,"home":2,"http":[3,6],"httpexcept":[0,1],"httpx":3,"i":[0,1],"id":0,"identifi":[0,1],"incom":3,"index":[0,1],"indic":[0,1,6],"insert":0,"instanc":[3,6],"int":[0,1],"invoc":6,"invok":6,"is_reason":6,"k":[0,1,2,4],"kei":[0,1,2,4],"langgraph":6,"langgraphag":[2,4,6],"languag":6,"last_nam":0,"length":0,"link":0,"list":[0,1,6],"llm":6,"llm_with_tool":6,"main":[2,4],"manag":3,"match":[0,1],"memori":6,"memorysav":6,"messag":[0,1,3,6,7],"messagesst":6,"mismatch":0,"model":[0,1,6],"model_config":[0,1,2,4],"modul":[2,4],"must":[0,1],"nearest":[0,1],"neighbor":[0,1],"new":[0,1,3,6],"node":6,"none":[0,3],"number":[0,1],"object":[0,3,6],"on_startup":[3,4],"oper":[0,3],"persist":6,"pool":[0,3],"postgreserror":0,"postgresql":0,"print_messag":[2,4,7],"process":6,"prompt":[2,3,4],"provid":3,"pydant":[0,1],"queri":[0,1,2,4],"record":0,"regist":3,"register_user_if_not_exist":[0,2,4],"repres":0,"request":[0,1,3],"respond":3,"respons":[3,6],"retriev":[0,1,6],"run":3,"save":[0,3],"save_feedback":[0,2,3,4],"schema":6,"score":[0,1],"search":[0,1,2,4,6],"searchqueri":[0,1,2,4],"send":3,"servic":3,"set":3,"should":[0,1],"similar":[0,1],"specifi":[0,1],"start":[3,4],"startup":3,"state":[3,6],"stategraph":6,"statesgroup":3,"store":[0,1],"str":[0,1],"subclass":6,"telegram":3,"text":3,"tg_chat_id":0,"thread":0,"tool":6,"tour_ag":[2,4],"tourist_agency_consult":2,"trigger":3,"type":3,"underli":6,"uniqu":[0,1],"unus":3,"us":[0,1,3,6],"user":[0,3],"usernam":0,"util":[2,4],"variabl":0,"vector":[0,1],"via":6,"wait":3,"waiting_feedback":[3,4],"web":6,"welcom":3,"wrapper":6},"titles":["database module","faiss_service module","Contents","main module","Tourist_agency_consultant","prompts module","tour_agent module","utils module"],"titleterms":{"attribut":6,"content":2,"databas":0,"faiss_servic":1,"main":3,"modul":[0,1,3,5,6,7],"note":3,"paramet":[0,1,3,6],"prompt":5,"rais":[0,1,3],"return":[0,1,3,6],"tour_ag":6,"tourist_agency_consult":4,"util":7}})